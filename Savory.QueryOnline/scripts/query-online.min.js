function WebSqlService(n,t){var i=n("/api",{},{server_items:{method:"POST",url:"/api/server/items"},table_items:{method:"POST",url:"/api/table/items"},execution_execute:{method:"POST",url:"/api/execution/execute"}});return{server_items:function(n){var r=t.defer();return i.server_items({},n,function(n){r.resolve(n)},function(n){r.reject(n)}),r.promise},table_items:function(n){var r=t.defer();return i.table_items({},n,function(n){r.resolve(n)},function(n){r.reject(n)}),r.promise},execution_execute:function(n){var r=t.defer();return i.execution_execute({},n,function(n){r.resolve(n)},function(n){r.reject(n)}),r.promise}}}function WelcomeController(n,t){var i=$("#requestContent")[0];n.thisEditor=CodeMirror.fromTextArea(i,{mode:"text/x-mssql",styleActiveLine:!0,lineNumbers:!0,lineWrapping:!0});n.thisEditor.setValue("SELECT * from Student(nolock)");n.run=function(){var i=n.thisEditor.getSelection().trim();i||(i=n.thisEditor.getValue().trim());t.execution_execute({command:i}).then(execution_service_callback)};server_items_callback=function(t){n.servers=t.servers;n.serverName=t.servers[0].serverName;n.setServer(n.serverName)};table_items_callback=function(t){n.tables=t.tables};execution_service_callback=function(n){console.log(n);$("#example").dataTable({destroy:!0,columns:n.headers,data:n.rows})};n.setServer=function(i){n.serverName=i;t.table_items({serverName:i}).then(table_items_callback)};t.server_items().then(server_items_callback)}var route=function(n,t){t.when("","/welcome").when("/","/welcome");n.state("app",{url:"/"});n.state("app.welcome",{url:"welcome",templateUrl:"scripts/views/view_welcome.html?v="+window.version,controller:WelcomeController})},app=angular.module("app",["ngResource","ui.router"]);app.config(route);app.service("WebSqlService",["$resource","$q",WebSqlService]);